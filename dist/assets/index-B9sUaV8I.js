import{r as p,w as k,h as I,o as b,k as x,j as l,d as e,ap as C,b as s,t as $,a1 as w,a2 as j,a3 as F,a6 as S,be as U,aq as A,a9 as c,U as g,Z as B,P as D,aA as q,V as y,X as M,aj as N,aF as O}from"./index-Tc2OuKZg.js";const P={__name:"InvoiceTypeForm",props:{modelValue:Object},emits:["saved","close"],setup(V,{emit:u}){const d=V,i=u,a=p({name:"",description:"",id:null});k(()=>d.modelValue,o=>{a.value=o.id?o:{name:"",description:"",id:null}},{immediate:!0});const v=I(()=>{var o;return(o=a.value)!=null&&o.id?"تعديل نوع فاتورة":"إضافة نوع فاتورة"});function _(){const o=a.value.id??void 0;B("invoice-type",a.value,o,!0,!0).then(()=>{i("saved"),i("close")})}return(o,t)=>(b(),x(g,null,{default:l(()=>[e(C,null,{default:l(()=>[s($(v.value),1)]),_:1}),e(w,null,{default:l(()=>[e(j,{onSubmit:F(_,["prevent"])},{default:l(()=>[e(S,{class:"my-2",modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.name=r),label:"اسم النوع",required:""},null,8,["modelValue"]),e(U,{modelValue:a.value.description,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.description=r),label:"الوصف"},null,8,["modelValue"]),e(A,{class:"justify-end"},{default:l(()=>[e(c,{color:"primary",type:"submit"},{default:l(()=>t[3]||(t[3]=[s("حفظ")])),_:1}),e(c,{color:"secondary",onClick:t[2]||(t[2]=r=>o.$emit("close"))},{default:l(()=>t[4]||(t[4]=[s("إلغاء")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},X={__name:"InvoiceTypeTable",setup(V){const u=p([]),d=p(!1),i=p(!1),a=p({name:"",description:"",id:null});function v(){d.value=!0,N("invoice-types").then(m=>{u.value=m.data,console.log(u.value),d.value=!1})}function _(m){a.value={...m},i.value=!0}function o(){a.value={name:"",description:"",id:null},i.value=!0}function t(m){confirm("هل أنت متأكد من حذف النوع؟")&&O("invoice-type",m.id).then(v)}function r(){i.value=!1,v()}return D(v),(m,n)=>(b(),x(g,null,{default:l(()=>[e(C,{class:"ma-1"},{default:l(()=>n[2]||(n[2]=[s(" أنواع الفواتير ")])),_:1}),e(c,{class:"ms-5 mb-5",color:"primary",onClick:o},{default:l(()=>n[3]||(n[3]=[s("إضافة نوع فاتورة")])),_:1}),e(q,{items:u.value,loading:d.value,headers:[{title:"الاسم",value:"name"},{title:"الوصف",value:"description"},{title:"تاريخ الإنشاء",value:"created_at"},{title:"إجراءات",value:"actions",sortable:!1}],"items-per-page-text":"عدد العناصر في الصفحة:","no-data-text":"لا توجد بيانات"},{"item.actions":l(({item:f})=>[e(c,{icon:"",onClick:T=>_(f)},{default:l(()=>[e(y,null,{default:l(()=>n[4]||(n[4]=[s("ri-pencil-line")])),_:1})]),_:2},1032,["onClick"]),e(c,{icon:"",color:"error",onClick:T=>t(f)},{default:l(()=>[e(y,null,{default:l(()=>n[5]||(n[5]=[s("ri-delete-bin-line")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items","loading"]),e(M,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=f=>i.value=f),"max-width":"500",persistent:""},{default:l(()=>[e(P,{"model-value":a.value,onSaved:r,onClose:n[0]||(n[0]=f=>i.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])]),_:1}))}},z={__name:"index",setup(V){return(u,d)=>(b(),x(X))}};export{z as default};
