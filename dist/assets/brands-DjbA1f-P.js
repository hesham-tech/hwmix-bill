import{r as i,P as M,k as p,j as a,aG as j,aj as q,o as f,d as l,b as r,a9 as u,ap as V,M as E,a4 as I,c as S,A as z,a5 as B,C as G,a as L,t as c,Y as x,a3 as b,F as O,W as P,q as R,U as k,a1 as w,a6 as W,aq as y,X as D,$ as g,Z as X,aF as Y}from"./index-Tc2OuKZg.js";const Z={class:"text-lg fw-medium"},K={__name:"brands",setup(H){const s=i(!1),d=i(!1),C=i(null),n=i({name:""}),m=i([]);function _(){n.value={name:""},s.value=!0}function A(){s.value=!1,n.value={name:""}}function $(){if(!n.value.name){g.error("اسم العلامة التجارية مطلوب");return}const o=!!n.value.id;X("brand",n.value,o?n.value.id:!1,!0,!0).then(()=>{v(),s.value=!1,n.value={name:""}}).catch(e=>{const t=e||(o?"حدث خطأ أثناء تعديل العلامة التجارية":"حدث خطأ أثناء حفظ العلامة التجارية");g.error(t)})}function F(o){C.value=o,d.value=!0}function N(o){Y("brand/delete",o,!0,!0).then(()=>{v(),d.value=!1}).catch(e=>{g.error(e)})}function v(){q("brands").then(o=>{m.value=o.data})}function T(o){n.value={...o},console.log(o),s.value=!0}return M(()=>{v()}),(o,e)=>(f(),p(j,null,{default:a(()=>[l(u,{"prepend-icon":"ri-add-line",color:"primary",onClick:_},{default:a(()=>e[5]||(e[5]=[r("اضافة علامة تجارية جديدة")])),_:1}),l(k,{class:"mt-4 pa-3"},{default:a(()=>[l(V,null,{default:a(()=>e[6]||(e[6]=[r(" العلامات التجارية")])),_:1}),l(E,{class:"ma-1"}),l(I,{class:"flex-wrap ma-2",style:{gap:"16px"}},{default:a(()=>[(f(!0),S(O,null,z(m.value,t=>(f(),p(B,{key:t.id,cols:"12",sm:"auto",class:"d-flex align-center elevation-2 pa-1 rounded",style:{background:"white","min-width":"280px"}},{default:a(()=>[l(G,{variant:"text",icon:"ri-price-tag-3-line",color:"primary",size:"32",class:"me-3"}),L("div",Z,c(t.name),1),l(x),l(u,{icon:"ri-edit-line",variant:"text",color:"success",onClick:b(U=>T(t),["stop"]),title:"تعديل العلامة التجارية",class:"mx-1"},null,8,["onClick"]),l(u,{icon:"ri-delete-bin-line",variant:"text",color:"error",onClick:b(U=>F(t.id),["stop"]),title:"حذف العلامة التجارية",class:"mx-1"},null,8,["onClick"])]),_:2},1024))),128)),m.value.length===0?(f(),p(B,{key:0,cols:"12"},{default:a(()=>[l(P,{type:"info",border:"start",class:"text-center"},{default:a(()=>e[7]||(e[7]=[r(" لا توجد علامات تجارية حتى الآن ")])),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),l(D,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),"max-width":"500px",persistent:""},{default:a(()=>[l(k,null,{default:a(()=>[l(V,null,{default:a(()=>{var t;return[r(c((t=n.value)!=null&&t.id?"تعديل العلامة التجارية":"اضافة علامة تجارية جديدة"),1)]}),_:1}),l(w,null,{default:a(()=>[l(W,{modelValue:n.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value.name=t),label:"اسم العلامة التجارية"},null,8,["modelValue"])]),_:1}),l(y,null,{default:a(()=>[l(x),l(u,{color:"blue darken-1",text:"",onClick:A},{default:a(()=>e[8]||(e[8]=[r("الغاء")])),_:1}),l(u,{color:"blue darken-1",text:"",onClick:$},{default:a(()=>[r(c(n.value.id?"تعديل":"حفظ"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(D,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),"max-width":"400px",persistent:""},{default:a(()=>[l(k,null,{default:a(()=>[l(V,null,{default:a(()=>e[9]||(e[9]=[r("تأكيد الحذف")])),_:1}),l(w,null,{default:a(()=>e[10]||(e[10]=[r("هل أنت متأكد من حذف هذه العلامة التجارية؟")])),_:1}),l(y,null,{default:a(()=>[l(x),l(u,{color:"grey darken-1",text:"",onClick:e[2]||(e[2]=t=>d.value=!1)},{default:a(()=>e[11]||(e[11]=[r("الغاء")])),_:1}),l(u,{color:"red darken-1",text:"",onClick:e[3]||(e[3]=t=>N(C.value))},{default:a(()=>e[12]||(e[12]=[r("حذف")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{K as default};
