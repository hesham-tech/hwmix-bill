import{r as C,o as h,s as k,w as t,b as e,e as x,f as z,a1 as E,a as s,t as i,z as S,g as b,d as R,B as G,l as w,Q as H,c as M,F as J,h as K,O as W,a2 as nt,a3 as ot,x as B,C as j,y as X,m as lt,J as Y,u as v,a4 as it,v as Z,a5 as rt,a6 as ct,N as dt,M as ut,a7 as ft,K as mt,E as pt,T as gt}from"./index-CuR9-sbN.js";import{u as N}from"./useApi-CjhFmPue.js";import{_ as tt}from"./AppButton-CREzoRf6.js";import{_ as _t}from"./AppCard-CXpBKc1t.js";import{A as q}from"./AppDataTable-CnA5lOqV.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";function st(){const d=N("/api/invoices"),p=N("/api/products"),r=N("/api/users"),u=N("/api/payments"),D=N("/api/installments"),f=C(!0),g=C(!1),m=C(!1),y=C(!1),I=C(!1),o=C({totalInvoices:0,totalProducts:0,totalUsers:0,totalPayments:0}),c=C([]),a=C([]),n=C([]),l=async()=>{var _,A,P,U;f.value=!0;try{const[L,F,O,Q]=await Promise.all([d.get({per_page:1},{showLoading:!1,showError:!1}),p.get({per_page:1},{showLoading:!1,showError:!1}),r.get({per_page:1},{showLoading:!1,showError:!1}),u.get({per_page:1},{showLoading:!1,showError:!1})]);o.value={totalInvoices:L.total||((_=L.data)==null?void 0:_.length)||0,totalProducts:F.total||((A=F.data)==null?void 0:A.length)||0,totalUsers:O.total||((P=O.data)==null?void 0:P.length)||0,totalPayments:Q.total||((U=Q.data)==null?void 0:U.length)||0}}catch(L){console.error("Error fetching dashboard stats:",L)}finally{f.value=!1}},$=async()=>{g.value=!0;try{const _=await d.get({per_page:5,sort:"-created_at"},{showLoading:!1,showError:!1});c.value=_.data||[]}catch(_){console.error("Error fetching recent invoices:",_),c.value=[]}finally{g.value=!1}},V=async()=>{m.value=!0;try{const _=new Date,A=new Date;A.setDate(_.getDate()+5);const P=_.toISOString().split("T")[0],U=A.toISOString().split("T")[0],L=await d.get({payment_status:"unpaid,partial",due_date_from:P,due_date_to:U,per_page:10,sort:"due_date"},{showLoading:!1,showError:!1});a.value=L.data||[]}catch(_){console.error("Error fetching upcoming payments:",_),a.value=[]}finally{m.value=!1}},T=async()=>{y.value=!0;try{const _=new Date,A=new Date;A.setDate(_.getDate()+5);const P=_.toISOString().split("T")[0],U=A.toISOString().split("T")[0],L=await D.get({status:"pending",due_date_from:P,due_date_to:U,per_page:10,sort:"due_date"},{showLoading:!1,showError:!1});n.value=L.data||[]}catch(_){console.error("Error fetching upcoming installments:",_),n.value=[]}finally{y.value=!1}};return{stats:o,recentInvoices:c,upcomingPayments:a,upcomingInstallments:n,loading:f,loadingInvoices:g,loadingUpcoming:m,loadingInstallments:y,refreshing:I,fetchDashboardData:l,fetchRecentInvoices:$,fetchUpcomingPayments:V,fetchUpcomingInstallments:T,refreshAll:async()=>{I.value=!0;try{await Promise.all([l(),$(),V(),T()])}finally{I.value=!1}}}}const ht={class:"d-flex align-center justify-space-between"},yt={class:"text-h4 font-weight-black text-success"},vt={class:"d-flex align-center justify-space-between"},xt={class:"text-h4 font-weight-black text-info"},bt={class:"d-flex align-center justify-space-between"},wt={class:"text-h4 font-weight-black text-warning"},Dt={class:"d-flex align-center justify-space-between"},$t={class:"text-h4 font-weight-black text-secondary"},kt={__name:"StatsCards",props:{stats:{type:Object,required:!0}},setup(d){return(p,r)=>(h(),k(R,{dense:""},{default:t(()=>[e(x,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(z,{border:"",flat:"",class:"rounded-xl overflow-hidden pa-1"},{default:t(()=>[e(E,{class:"pa-4 bg-success-lighten-5"},{default:t(()=>[s("div",ht,[s("div",null,[r[0]||(r[0]=s("div",{class:"text-caption font-weight-bold text-success mb-1"},"إجمالي الفواتير",-1)),s("div",yt,i(d.stats.totalInvoices),1)]),e(S,{color:"success",size:"48",variant:"flat",class:"rounded-lg"},{default:t(()=>[e(b,{icon:"ri-file-list-3-line",color:"white",size:"28"})]),_:1})]),r[1]||(r[1]=s("div",{class:"mt-3 text-caption text-grey"},"جميع الفواتير المسجلة",-1))]),_:1})]),_:1})]),_:1}),e(x,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(z,{border:"",flat:"",class:"rounded-xl overflow-hidden pa-1"},{default:t(()=>[e(E,{class:"pa-4 bg-info-lighten-5"},{default:t(()=>[s("div",vt,[s("div",null,[r[2]||(r[2]=s("div",{class:"text-caption font-weight-bold text-info mb-1"},"إجمالي المنتجات",-1)),s("div",xt,i(d.stats.totalProducts),1)]),e(S,{color:"info",size:"48",variant:"flat",class:"rounded-lg"},{default:t(()=>[e(b,{icon:"ri-shopping-bag-3-line",color:"white",size:"28"})]),_:1})]),r[3]||(r[3]=s("div",{class:"mt-3 text-caption text-grey"},"الأصناف المتوفرة حالياً",-1))]),_:1})]),_:1})]),_:1}),e(x,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(z,{border:"",flat:"",class:"rounded-xl overflow-hidden pa-1"},{default:t(()=>[e(E,{class:"pa-4 bg-warning-lighten-5"},{default:t(()=>[s("div",bt,[s("div",null,[r[4]||(r[4]=s("div",{class:"text-caption font-weight-bold text-warning mb-1"},"فريق العمل",-1)),s("div",wt,i(d.stats.totalUsers),1)]),e(S,{color:"warning",size:"48",variant:"flat",class:"rounded-lg"},{default:t(()=>[e(b,{icon:"ri-team-line",color:"white",size:"28"})]),_:1})]),r[5]||(r[5]=s("div",{class:"mt-3 text-caption text-grey"},"إجمالي المستخدمين والمديرين",-1))]),_:1})]),_:1})]),_:1}),e(x,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(z,{border:"",flat:"",class:"rounded-xl overflow-hidden pa-1"},{default:t(()=>[e(E,{class:"pa-4 bg-secondary-lighten-5"},{default:t(()=>[s("div",Dt,[s("div",null,[r[6]||(r[6]=s("div",{class:"text-caption font-weight-bold text-secondary mb-1"},"المدفوعات",-1)),s("div",$t,i(d.stats.totalPayments),1)]),e(S,{color:"secondary",size:"48",variant:"flat",class:"rounded-lg"},{default:t(()=>[e(b,{icon:"ri-money-dollar-circle-line",color:"white",size:"28"})]),_:1})]),r[7]||(r[7]=s("div",{class:"mt-3 text-caption text-grey"},"العمليات المالية المحصلة",-1))]),_:1})]),_:1})]),_:1})]),_:1}))}},It={__name:"QuickActions",props:{actions:{type:Array,required:!0}},emits:["action-click"],setup(d){return(p,r)=>(h(),k(_t,{title:"إجراءات سريعة",icon:"ri-flashlight-line",class:"h-100"},{actions:t(()=>[e(G,{size:"x-small",color:"primary",variant:"flat",class:"font-weight-black"},{default:t(()=>r[0]||(r[0]=[w("أكثر استخداماً")])),_:1})]),default:t(()=>[e(H,{class:"pa-0"},{default:t(()=>[(h(!0),M(J,null,K(d.actions,u=>(h(),k(W,{key:u.title,class:"border-b last-child-no-border py-3 px-4 clickable-action",onClick:D=>p.$emit("action-click",u.route)},{prepend:t(()=>[e(S,{color:`${u.color}-lighten-5`,size:"40",class:"me-3"},{default:t(()=>[e(b,{icon:u.icon,color:u.color},null,8,["icon","color"])]),_:2},1032,["color"])]),append:t(()=>[e(b,{icon:"ri-arrow-left-s-line",color:"grey-lighten-1",size:"small"})]),default:t(()=>[e(nt,{class:"font-weight-bold text-body-1"},{default:t(()=>[w(i(u.title),1)]),_:2},1024),e(ot,{class:"text-caption"},{default:t(()=>[w(i(u.subtitle),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}))}},zt={class:"font-weight-black text-primary"},Ct={class:"font-weight-medium"},St={class:"font-weight-black text-h6 text-success"},At={class:"text-center pa-8"},at={__name:"RecentInvoices",props:{invoices:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(d){const p=[{title:"رقم الفاتورة",key:"invoice_number"},{title:"العميل",key:"customer"},{title:"المبلغ",key:"total",align:"end"},{title:"الحالة",key:"status"}],r=f=>f?new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(f):"0.00 ج.م",u=f=>({draft:"grey",pending:"warning",approved:"success",cancelled:"error"})[f]||"grey",D=f=>({draft:"مسودة",pending:"قيد الانتظار",approved:"معتمدة",cancelled:"ملغاة"})[f]||f;return(f,g)=>(h(),k(q,{headers:p,items:d.invoices,loading:d.loading,title:"آخر الفواتير الصادرة",icon:"ri-file-list-3-line","hide-footer":"","items-per-page":5},{"item.invoice_number":t(({item:m})=>[s("div",zt,"#"+i(m.invoice_number),1)]),"item.customer":t(({item:m})=>{var y;return[s("div",Ct,i(((y=m.customer)==null?void 0:y.name)||"---"),1)]}),"item.total":t(({item:m})=>[s("div",St,i(r(m.total)),1)]),"item.status":t(({item:m})=>[e(G,{color:u(m.status),size:"small",variant:"flat",class:"font-weight-bold px-3"},{default:t(()=>[w(i(D(m.status)),1)]),_:2},1032,["color"])]),"no-data":t(()=>[s("div",At,[e(b,{icon:"ri-file-history-line",size:"48",color:"grey-lighten-2",class:"mb-2"}),g[0]||(g[0]=s("div",{class:"text-subtitle-1 text-grey font-weight-medium"},"لا توجد فواتير حديثة حتى الآن",-1))])]),_:1},8,["items","loading"]))}},Lt={class:"d-flex align-center py-2"},Et={class:"text-primary font-weight-bold text-caption"},Vt={class:"d-flex flex-column"},Tt={class:"font-weight-bold text-body-1"},Pt={class:"text-caption text-grey"},Ut={class:"d-flex flex-column"},Gt={class:"font-weight-medium text-body-2"},Nt={class:"d-flex flex-column align-end"},Bt={class:"font-weight-black text-body-1 text-error"},Rt={class:"text-caption text-grey"},Mt={class:"text-center pa-8"},jt={__name:"UpcomingPayments",props:{payments:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(d){const p=d,r=[{title:"العميل",key:"customer"},{title:"تاريخ الاستحقاق",key:"due_date"},{title:"المبلغ المتبقي",key:"amount",align:"end"},{title:"الأولوية",key:"urgency"}],u=B(()=>p.payments.length),D=o=>o?new Date(o).toLocaleDateString("ar-EG",{day:"numeric",month:"short"}):"-",f=o=>o?new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(o):"0.00 ج.م",g=o=>{if(!o)return"-";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"متأخر!":l===0?"اليوم":l===1?"غداً":`بعد ${l} يوم`},m=o=>{if(!o)return"";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"text-error font-weight-bold":l<=1?"text-warning font-weight-bold":"text-medium-emphasis"},y=o=>{if(!o)return"grey";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"error":l<=1?"warning":l<=3?"info":"success"},I=o=>{if(!o)return"-";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"متأخر":l<=1?"عاجل":l<=3?"قريب":"عادي"};return(o,c)=>(h(),k(q,{headers:r,items:d.payments,loading:d.loading,title:"الفواتير المستحقة قريباً",icon:"ri-calendar-todo-line","hide-footer":"","items-per-page":5},{actions:t(()=>[u.value>0?(h(),k(G,{key:0,color:"error",size:"small",variant:"flat",class:"font-weight-black"},{default:t(()=>[w(i(u.value)+" فواتير متأخرة ",1)]),_:1})):j("",!0)]),"item.customer":t(({item:a})=>{var n;return[s("div",Lt,[e(S,{size:"36",color:"primary-lighten-5",class:"me-3"},{default:t(()=>{var l,$;return[s("span",Et,i(($=(l=a.customer)==null?void 0:l.name)==null?void 0:$.charAt(0)),1)]}),_:2},1024),s("div",Vt,[s("span",Tt,i((n=a.customer)==null?void 0:n.name),1),s("span",Pt,"فاتورة #"+i(a.invoice_number),1)])])]}),"item.due_date":t(({item:a})=>[s("div",Ut,[s("span",Gt,i(D(a.due_date)),1),s("span",{class:X([m(a.due_date),"text-caption"])},i(g(a.due_date)),3)])]),"item.amount":t(({item:a})=>[s("div",Nt,[s("span",Bt,i(f(a.remaining)),1),s("span",Rt,"من "+i(f(a.total)),1)])]),"item.urgency":t(({item:a})=>[e(G,{color:y(a.due_date),size:"small",variant:"flat",class:"font-weight-bold px-3"},{default:t(()=>[w(i(I(a.due_date)),1)]),_:2},1032,["color"])]),"no-data":t(()=>[s("div",Mt,[e(b,{icon:"ri-checkbox-circle-fill",size:"48",color:"success",class:"mb-2 opacity-50"}),c[0]||(c[0]=s("div",{class:"text-subtitle-1 text-success font-weight-medium"},"ممتاز! لا توجد مديونيات متأخرة حالياً",-1))])]),_:1},8,["items","loading"]))}},qt={class:"d-flex align-center py-2"},Ft={class:"text-info font-weight-bold text-caption"},Ot={class:"d-flex flex-column"},Qt={class:"font-weight-bold text-body-1"},Ht={class:"text-caption text-grey"},Jt={class:"d-flex flex-column"},Kt={class:"font-weight-bold text-body-2"},Wt={class:"text-caption text-grey"},Xt={class:"d-flex flex-column"},Yt={class:"font-weight-medium text-body-2"},Zt={class:"font-weight-black text-body-1 text-info text-end"},te={class:"text-center pa-8"},ee={__name:"UpcomingInstallments",props:{installments:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(d){const p=d,r=[{title:"العميل",key:"customer"},{title:"القسط",key:"installment_details"},{title:"تاريخ الاستحقاق",key:"due_date"},{title:"المبلغ",key:"amount",align:"end"},{title:"الحالة",key:"status"}],u=B(()=>p.installments.length),D=o=>o?new Date(o).toLocaleDateString("ar-EG",{day:"numeric",month:"short"}):"-",f=o=>o?new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(o):"0.00 ج.م",g=o=>{if(!o)return"-";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"متأخر!":l===0?"اليوم":l===1?"غداً":`بعد ${l} يوم`},m=o=>{if(!o)return"";const c=new Date,n=new Date(o)-c,l=Math.ceil(n/(1e3*60*60*24));return l<0?"text-error font-weight-bold":l<=1?"text-warning font-weight-bold":"text-medium-emphasis"},y=o=>({pending:"warning",paid:"success",overdue:"error",cancelled:"grey"})[o]||"info",I=o=>({pending:"معلق",paid:"مدفوع",overdue:"متأخر",cancelled:"ملغي"})[o]||o;return(o,c)=>(h(),k(q,{headers:r,items:d.installments,loading:d.loading,title:"الأقساط المستحقة قريباً",icon:"ri-calendar-schedule-line","hide-footer":"","items-per-page":5},{actions:t(()=>[u.value>0?(h(),k(G,{key:0,color:"info",size:"small",variant:"flat",class:"font-weight-black"},{default:t(()=>[w(i(u.value)+" أقساط مجدولة ",1)]),_:1})):j("",!0)]),"item.customer":t(({item:a})=>{var n;return[s("div",qt,[e(S,{size:"36",color:"info-lighten-5",class:"me-3"},{default:t(()=>{var l,$;return[s("span",Ft,i(($=(l=a.customer)==null?void 0:l.name)==null?void 0:$.charAt(0)),1)]}),_:2},1024),s("div",Ot,[s("span",Qt,i((n=a.customer)==null?void 0:n.name),1),s("span",Ht,"خطة #"+i(a.plan_number||a.id),1)])])]}),"item.installment_details":t(({item:a})=>[s("div",Jt,[s("span",Kt,"قسط #"+i(a.installment_number),1),s("span",Wt,"من "+i(a.total_installments)+" قسط",1)])]),"item.due_date":t(({item:a})=>[s("div",Xt,[s("span",Yt,i(D(a.due_date)),1),s("span",{class:X([m(a.due_date),"text-caption"])},i(g(a.due_date)),3)])]),"item.amount":t(({item:a})=>[s("div",Zt,i(f(a.amount)),1)]),"item.status":t(({item:a})=>[e(G,{color:y(a.status),size:"small",variant:"flat",class:"font-weight-bold px-3"},{default:t(()=>[w(i(I(a.status)),1)]),_:2},1032,["color"])]),"no-data":t(()=>[s("div",te,[e(b,{icon:"ri-time-line",size:"48",color:"grey-lighten-2",class:"mb-2 opacity-50"}),c[0]||(c[0]=s("div",{class:"text-subtitle-1 text-grey font-weight-medium"},"لا توجد أقساط مستحقة خلال الفترة القادمة",-1))])]),_:1},8,["items","loading"]))}},se={class:"admin-dashboard"},ae={class:"mb-6 px-6 pt-6 d-flex align-center justify-space-between"},ne={class:"px-6 mb-6"},oe={__name:"AdminDashboard",setup(d){const p=lt(),{stats:r,recentInvoices:u,upcomingPayments:D,upcomingInstallments:f,loadingUpcoming:g,loadingInstallments:m,refreshing:y,fetchDashboardData:I,refreshAll:o,fetchRecentInvoices:c,fetchUpcomingPayments:a,fetchUpcomingInstallments:n}=st(),l=[{title:"فاتورة جديدة",subtitle:"إنشاء فاتورة بيع",icon:"ri-file-add-line",color:"primary",route:"/invoices/create"},{title:"تسجيل دفعة",subtitle:"إضافة دفعة جديدة",icon:"ri-money-dollar-circle-line",color:"success",route:"/payments/create"},{title:"منتج جديد",subtitle:"إضافة منتج للمخزون",icon:"ri-shopping-bag-line",color:"info",route:"/products/create"},{title:"عرض التقارير",subtitle:"تقارير مفصلة",icon:"ri-bar-chart-line",color:"warning",route:"/reports"}],$=V=>{p.push(V)};return Y(async()=>{await o()}),(V,T)=>(h(),M("div",se,[s("div",ae,[T[1]||(T[1]=s("div",null,[s("h1",{class:"text-h4 font-weight-bold"},"لوحة التحكم الإحصائية"),s("p",{class:"text-body-1 text-grey"},"تحليل أداء النظام، الفواتير، وحركات المخزون في مكان واحد")],-1)),e(tt,{color:"primary","prepend-icon":"ri-refresh-line",variant:"tonal",loading:v(y),onClick:v(o)},{default:t(()=>T[0]||(T[0]=[w(" تحديث البيانات ")])),_:1},8,["loading","onClick"])]),s("div",ne,[V.loading?(h(),k(it,{key:0,indeterminate:"",color:"primary",class:"rounded-t"})):j("",!0),e(kt,{stats:v(r)},null,8,["stats"])]),e(R,{class:"px-6 mx-0"},{default:t(()=>[e(x,{cols:"12",lg:"4"},{default:t(()=>[e(It,{actions:l,onActionClick:$})]),_:1}),e(x,{cols:"12",lg:"8"},{default:t(()=>[e(at,{invoices:v(u),loading:V.loadingInvoices},null,8,["invoices","loading"])]),_:1})]),_:1}),e(R,{class:"px-6 mx-0 pb-6 mt-4"},{default:t(()=>[e(x,{cols:"12",md:"6"},{default:t(()=>[e(jt,{payments:v(D),loading:v(g)},null,8,["payments","loading"])]),_:1}),e(x,{cols:"12",md:"6"},{default:t(()=>[e(ee,{installments:v(f),loading:v(m)},null,8,["installments","loading"])]),_:1})]),_:1})]))}},le={class:"customer-dashboard pa-6"},ie={class:"welcome-section mb-8"},re={class:"text-h3 font-weight-bold primary-gradient-text"},ce={class:"text-h6 text-grey-darken-1 font-weight-regular mt-2"},de={class:"text-h3 font-weight-black text-white mt-1"},ue={class:"text-h5 font-weight-bold"},fe={class:"text-h5 font-weight-bold"},me={class:"d-flex align-center justify-space-between mb-2"},pe={__name:"CustomerDashboard",setup(d){const p=Z(),{stats:r,recentInvoices:u,upcomingInstallments:D,loadingInvoices:f,refreshAll:g}=st(),m=B(()=>{var a,n;return((n=(a=p.currentUser)==null?void 0:a.full_name)==null?void 0:n.split(" ")[0])||"أهلاً بك"}),y=B(()=>{const a=p.companies.find(n=>{var l;return n.id===((l=p.currentUser)==null?void 0:l.company_id)});return(a==null?void 0:a.name)||"الشركة"}),I=B(()=>{const a=new Date().getHours();return a<12?"صباح الخير":a<18?"مساء الخير":"أهلاً بك"}),o=a=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(a||0),c=[{title:"كشف حسابي",icon:"ri-file-search-line",props:{to:"/reports/my-statement"}},{title:"فواتيري السابقة",icon:"ri-bill-line",props:{to:"/invoices"}},{title:"جدول أقساطي",icon:"ri-calendar-2-line",props:{to:"/installments"}},{title:"تحويل نقدي",icon:"ri-send-plane-2-line",props:{to:"/transactions/create"}}];return Y(()=>{g()}),(a,n)=>(h(),M("div",le,[s("div",ie,[s("h1",re,i(I.value)+", "+i(m.value)+"!",1),s("p",ce,"إليك ملخص معاملاتك في "+i(y.value),1)]),e(R,null,{default:t(()=>[e(x,{cols:"12",md:"4"},{default:t(()=>[e(z,{class:"premium-card balance-card",elevation:"4"},{default:t(()=>[n[1]||(n[1]=s("div",{class:"card-glow"},null,-1)),e(E,{class:"d-flex flex-column align-center py-8"},{default:t(()=>{var l;return[e(b,{icon:"ri-wallet-3-line",size:"48",color:"white",class:"mb-4"}),n[0]||(n[0]=s("div",{class:"text-overline text-white-50"},"رصيدك الحالي",-1)),s("div",de,i(o((l=v(p).currentUser)==null?void 0:l.balance)),1)]}),_:1})]),_:1})]),_:1}),e(x,{cols:"12",md:"4"},{default:t(()=>[e(z,{class:"premium-card info-card",elevation:"2"},{default:t(()=>[e(E,{class:"d-flex align-center py-6"},{default:t(()=>[e(S,{color:"primary-lighten-4",size:"64",class:"me-4"},{default:t(()=>[e(b,{icon:"ri-shopping-cart-2-line",color:"primary",size:"32"})]),_:1}),s("div",null,[n[2]||(n[2]=s("div",{class:"text-caption text-grey"},"إجمالي المشتريات",-1)),s("div",ue,i(v(r).totalInvoices)+" فاتورة",1)])]),_:1})]),_:1})]),_:1}),e(x,{cols:"12",md:"4"},{default:t(()=>[e(z,{class:"premium-card info-card",elevation:"2"},{default:t(()=>[e(E,{class:"d-flex align-center py-6"},{default:t(()=>[e(S,{color:"warning-lighten-4",size:"64",class:"me-4"},{default:t(()=>[e(b,{icon:"ri-calendar-todo-line",color:"warning",size:"32"})]),_:1}),s("div",null,[n[3]||(n[3]=s("div",{class:"text-caption text-grey"},"أقساط قادمة",-1)),s("div",fe,i(v(D).length)+" قسط قريباً",1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(R,{class:"mt-6"},{default:t(()=>[e(x,{cols:"12",lg:"8"},{default:t(()=>[e(z,{rounded:"xl",class:"border"},{default:t(()=>[e(rt,{flat:"",color:"transparent",class:"px-4"},{default:t(()=>[e(ct,{class:"font-weight-bold"},{default:t(()=>n[4]||(n[4]=[w("آخر مشترياتي")])),_:1}),e(dt),e(tt,{variant:"text",size:"small",to:"/invoices"},{default:t(()=>n[5]||(n[5]=[w("عرض الكل")])),_:1})]),_:1}),e(ut),e(at,{invoices:v(u),loading:v(f),"hide-actions":""},null,8,["invoices","loading"])]),_:1})]),_:1}),e(x,{cols:"12",lg:"4"},{default:t(()=>[e(z,{rounded:"xl",class:"border bg-grey-lighten-5"},{default:t(()=>[e(ft,{class:"font-weight-bold px-6 pt-6"},{default:t(()=>n[6]||(n[6]=[w("روابط سريعة")])),_:1}),e(E,{class:"px-4 pb-6"},{default:t(()=>[e(H,{"bg-color":"transparent"},{default:t(()=>[(h(),M(J,null,K(c,(l,$)=>e(W,mt({key:$,ref_for:!0},l.props,{class:"mb-2 rounded-lg py-3 action-item","prepend-icon":l.icon,title:l.title,variant:"flat",color:"white",elevation:"1"}),null,16,["prepend-icon","title"])),64))]),_:1})]),_:1})]),_:1}),e(z,{rounded:"xl",class:"mt-4 primary-gradient text-white pa-6"},{default:t(()=>[s("div",me,[n[7]||(n[7]=s("span",{class:"text-h6 font-weight-bold"},"هل تحتاج مساعدة؟",-1)),e(b,{icon:"ri-customer-service-2-line",size:"32"})]),n[9]||(n[9]=s("p",{class:"text-body-2 mb-4 opacity-80"},"نحن هنا لخدمتك دائماً. تواصل معنا لأي استفسار حول معاملاتك.",-1)),e(pt,{block:"",color:"white",variant:"flat",class:"text-primary font-weight-bold rounded-lg"},{default:t(()=>n[8]||(n[8]=[w("تواصل مع الدعم")])),_:1})]),_:1})]),_:1})]),_:1})]))}},ge=et(pe,[["__scopeId","data-v-3637cbdc"]]),_e={class:"dashboard-container"},he={__name:"Dashboard",setup(d){const p=Z();return(r,u)=>(h(),M("div",_e,[e(gt,{name:"fade",mode:"out-in"},{default:t(()=>[v(p).isStaff?(h(),k(oe,{key:0})):(h(),k(ge,{key:1}))]),_:1})]))}},ke=et(he,[["__scopeId","data-v-da67bed2"]]);export{ke as default};
