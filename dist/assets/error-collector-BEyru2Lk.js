const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-98ieInin.js","assets/index-Csu8BcKg.css"])))=>i.map(i=>d[i]);
import{_ as r}from"./index-98ieInin.js";const u=async(n,e={})=>{const t={message:(n==null?void 0:n.message)||"Unknown Error",stack_trace:(n==null?void 0:n.stack)||null,url:window.location.href,browser:c(),os:d(),type:e.type||"error",severity:e.severity||"medium",payload:{timestamp:new Date().toISOString(),route:window.location.hash||window.location.pathname,screen:{width:window.innerWidth,height:window.innerHeight},...e.extraData}};try{const{useUserStore:a}=await r(async()=>{const{useUserStore:i}=await import("./index-98ieInin.js").then(s=>s.b1);return{useUserStore:i}},__vite__mapDeps([0,1])),o=a();o.currentUser&&(t.payload.user_id=o.currentUser.id,t.payload.username=o.currentUser.username)}catch{}return t};function c(){const n=navigator.userAgent;let e,t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(e=/\brv[ :]+(\d+)/g.exec(n)||[],"IE "+(e[1]||"")):t[1]==="Chrome"&&(e=n.match(/\b(OPR|Edge)\/(\d+)/),e!=null)?e.slice(1).join(" ").replace("OPR","Opera"):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=n.match(/version\/(\d+)/i))!=null&&t.splice(1,1,e[1]),t.join(" "))}function d(){const n=window.navigator.userAgent,e=window.navigator.platform,t=["Macintosh","MacIntel","MacPPC","Mac68K"],a=["Win32","Win64","Windows","WinCE"],o=["iPhone","iPad","iPod"];let i=null;return t.indexOf(e)!==-1?i="Mac OS":o.indexOf(e)!==-1?i="iOS":a.indexOf(e)!==-1?i="Windows":/Android/.test(n)?i="Android":!i&&/Linux/.test(e)&&(i="Linux"),i||e}export{u as collectErrorInfo};
