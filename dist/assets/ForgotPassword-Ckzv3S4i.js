import{r as t,c as u,a as e,b as o,s as x,w as l,j as y,i as w,o as i,g as n,u as p,l as d,n as k,p as b}from"./index-CuR9-sbN.js";import{r as V,e as h}from"./validators-DqnElXnw.js";import{_ as z}from"./AppInput-06Y7zOXl.js";import{_ as v}from"./AppButton-CREzoRf6.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"forgot-password-page"},N={class:"forgot-container"},P={class:"forgot-brand"},S={class:"brand-content"},I={class:"forgot-form-wrapper"},R={class:"forgot-form"},$={class:"text-center"},j={href:"/login",class:"text-primary text-decoration-none"},q={key:1,class:"success-message"},C={__name:"ForgotPassword",setup(E){const m=t(null),r=t(!1),c=t(!1),a=t({email:""}),g=async()=>{const{valid:f}=await m.value.validate();if(f){r.value=!0;try{await k.forgotPassword(a.value),c.value=!0,b.success("تم إرسال رابط الاستعادة")}catch{b.error("فشل إرسال الرابط")}finally{r.value=!1}}};return(f,s)=>(i(),u("div",F,[e("div",N,[e("div",P,[e("div",S,[o(n,{icon:"ri-lock-password-line",size:"64",color:"white"}),s[1]||(s[1]=e("h1",{class:"brand-title mt-4"},"استعادة كلمة المرور",-1)),s[2]||(s[2]=e("p",{class:"brand-subtitle"},"سنرسل لك رابط إعادة تعيين كلمة المرور",-1))])]),e("div",I,[e("div",R,[s[8]||(s[8]=e("h2",{class:"text-h4 font-weight-bold mb-2"},"نسيت كلمة المرور؟",-1)),s[9]||(s[9]=e("p",{class:"text-body-1 text-grey mb-6"},"أدخل بريدك الإلكتروني",-1)),c.value?(i(),u("div",q,[o(n,{icon:"ri-checkbox-circle-line",size:"64",color:"success",class:"mb-4"}),s[6]||(s[6]=e("h3",{class:"text-h6 mb-2"},"تم إرسال الرابط!",-1)),s[7]||(s[7]=e("p",{class:"text-body-2 text-grey mb-4"},"تحقق من بريدك الإلكتروني واتبع التعليمات لإعادة تعيين كلمة المرور",-1)),o(v,{color:"primary",variant:"outlined",href:"/login",block:""},{default:l(()=>s[5]||(s[5]=[d(" العودة لتسجيل الدخول ")])),_:1})])):(i(),x(w,{key:0,ref_key:"formRef",ref:m,onSubmit:y(g,["prevent"])},{default:l(()=>[o(z,{modelValue:a.value.email,"onUpdate:modelValue":s[0]||(s[0]=_=>a.value.email=_),label:"البريد الإلكتروني *",type:"email",rules:[p(V),p(h)],"prepend-inner-icon":"ri-mail-line",class:"mb-4"},null,8,["modelValue","rules"]),o(v,{type:"submit",color:"primary",size:"large",block:"",loading:r.value,class:"mb-4"},{default:l(()=>s[3]||(s[3]=[d(" إرسال رابط الاستعادة ")])),_:1},8,["loading"]),e("div",$,[e("a",j,[o(n,{icon:"ri-arrow-right-line",size:"small",class:"me-1"}),s[4]||(s[4]=d(" العودة لتسجيل الدخول "))])])]),_:1},512))])])])]))}},G=B(C,[["__scopeId","data-v-47f28961"]]);export{G as default};
