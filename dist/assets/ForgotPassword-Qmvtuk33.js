import{r as t,c as u,a as e,b as o,v as x,w as l,k as y,j as w,o as i,h as n,u as p,m as d,p as k,q as v}from"./index-DPR0tjT6.js";import{r as V,e as h}from"./validators-CndBNb9f.js";import{_ as z}from"./AppInput-CYR4AaBJ.js";import{_ as b}from"./AppButton-DiF3_7lr.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"forgot-password-page"},N={class:"forgot-container"},P={class:"forgot-brand"},S={class:"brand-content"},q={class:"forgot-form-wrapper"},I={class:"forgot-form"},R={class:"text-center"},$={href:"/login",class:"text-primary text-decoration-none"},j={key:1,class:"success-message"},C={__name:"ForgotPassword",setup(E){const m=t(null),r=t(!1),c=t(!1),a=t({email:""}),_=async()=>{const{valid:f}=await m.value.validate();if(f){r.value=!0;try{await k.forgotPassword(a.value),c.value=!0,v.success("تم إرسال رابط الاستعادة")}catch{v.error("فشل إرسال الرابط")}finally{r.value=!1}}};return(f,s)=>(i(),u("div",F,[e("div",N,[e("div",P,[e("div",S,[o(n,{icon:"ri-lock-password-line",size:"64",color:"white"}),s[1]||(s[1]=e("h1",{class:"brand-title mt-4"},"استعادة كلمة المرور",-1)),s[2]||(s[2]=e("p",{class:"brand-subtitle"},"سنرسل لك رابط إعادة تعيين كلمة المرور",-1))])]),e("div",q,[e("div",I,[s[8]||(s[8]=e("h2",{class:"text-h4 font-weight-bold mb-2"},"نسيت كلمة المرور؟",-1)),s[9]||(s[9]=e("p",{class:"text-body-1 text-grey mb-6"},"أدخل بريدك الإلكتروني",-1)),c.value?(i(),u("div",j,[o(n,{icon:"ri-checkbox-circle-line",size:"64",color:"success",class:"mb-4"}),s[6]||(s[6]=e("h3",{class:"text-h6 mb-2"},"تم إرسال الرابط!",-1)),s[7]||(s[7]=e("p",{class:"text-body-2 text-grey mb-4"},"تحقق من بريدك الإلكتروني واتبع التعليمات لإعادة تعيين كلمة المرور",-1)),o(b,{color:"primary",variant:"outlined",href:"/login",block:""},{default:l(()=>s[5]||(s[5]=[d(" العودة لتسجيل الدخول ")])),_:1})])):(i(),x(w,{key:0,ref_key:"formRef",ref:m,onSubmit:y(_,["prevent"])},{default:l(()=>[o(z,{modelValue:a.value.email,"onUpdate:modelValue":s[0]||(s[0]=g=>a.value.email=g),label:"البريد الإلكتروني *",type:"email",rules:[p(V),p(h)],"prepend-inner-icon":"ri-mail-line",class:"mb-4"},null,8,["modelValue","rules"]),o(b,{type:"submit",color:"primary",size:"large",block:"",loading:r.value,class:"mb-4"},{default:l(()=>s[3]||(s[3]=[d(" إرسال رابط الاستعادة ")])),_:1},8,["loading"]),e("div",R,[e("a",$,[o(n,{icon:"ri-arrow-right-line",size:"small",class:"me-1"}),s[4]||(s[4]=d(" العودة لتسجيل الدخول "))])])]),_:1},512))])])])]))}},G=B(C,[["__scopeId","data-v-47f28961"]]);export{G as default};
