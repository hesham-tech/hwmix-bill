import{r as d,c as _,a as o,b as l,w as r,j as w,i as y,o as x,g as k,d as R,e as n,u as t,k as U,l as V,m as B,n as C,p as c}from"./index-CuR9-sbN.js";import{r as i,e as N,p as z,s as I}from"./validators-DqnElXnw.js";import{_ as u}from"./AppInput-06Y7zOXl.js";import{_ as P}from"./AppButton-CREzoRf6.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"register-page"},j={class:"register-container"},q={class:"register-brand"},E={class:"brand-content"},F={class:"register-form-wrapper"},M={class:"register-form"},T={__name:"Register",setup(h){const g=B(),p=d(null),m=d(!1),f=d(!1),a=d({first_name:"",last_name:"",email:"",phone:"",password:"",password_confirmation:"",agree:!1}),b=async()=>{const{valid:v}=await p.value.validate();if(v){m.value=!0;try{await C.register(a.value),c.success("تم إنشاء الحساب بنجاح"),g.push("/login")}catch{c.error("فشل إنشاء الحساب")}finally{m.value=!1}}};return(v,e)=>(x(),_("div",$,[o("div",j,[o("div",q,[o("div",E,[l(k,{icon:"ri-building-line",size:"64",color:"white"}),e[7]||(e[7]=o("h1",{class:"brand-title mt-4"},"إنضم إلينا",-1)),e[8]||(e[8]=o("p",{class:"brand-subtitle"},"ابدأ رحلتك في إدارة الفواتير",-1))])]),o("div",F,[o("div",M,[e[12]||(e[12]=o("h2",{class:"text-h4 font-weight-bold mb-2"},"إنشاء حساب جديد",-1)),e[13]||(e[13]=o("p",{class:"text-body-1 text-grey mb-6"},"املأ البيانات للبدء",-1)),l(y,{ref_key:"formRef",ref:p,onSubmit:w(b,["prevent"])},{default:r(()=>[l(R,null,{default:r(()=>[l(n,{cols:"12",sm:"6"},{default:r(()=>[l(u,{modelValue:a.value.first_name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.first_name=s),label:"الاسم الأول *",rules:[t(i)],"prepend-inner-icon":"ri-user-line"},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:"12",sm:"6"},{default:r(()=>[l(u,{modelValue:a.value.last_name,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.last_name=s),label:"اسم العائلة *",rules:[t(i)],"prepend-inner-icon":"ri-user-line"},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:"12"},{default:r(()=>[l(u,{modelValue:a.value.email,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.email=s),label:"البريد الإلكتروني *",type:"email",rules:[t(i),t(N)],"prepend-inner-icon":"ri-mail-line"},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:"12"},{default:r(()=>[l(u,{modelValue:a.value.phone,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.phone=s),label:"رقم الهاتف *",rules:[t(i),t(z)],"prepend-inner-icon":"ri-phone-line"},null,8,["modelValue","rules"])]),_:1}),l(n,{cols:"12"},{default:r(()=>[l(u,{modelValue:a.value.password,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.password=s),type:f.value?"text":"password",label:"كلمة المرور *",rules:[t(i),t(I)],"prepend-inner-icon":"ri-lock-line"},null,8,["modelValue","type","rules"])]),_:1}),l(n,{cols:"12"},{default:r(()=>[l(u,{modelValue:a.value.password_confirmation,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.password_confirmation=s),type:f.value?"text":"password",label:"تأكيد كلمة المرور *",rules:[t(i),s=>s===a.value.password||"كلمة المرور غير متطابقة"],"prepend-inner-icon":"ri-lock-line"},null,8,["modelValue","type","rules"])]),_:1}),l(n,{cols:"12"},{default:r(()=>[l(U,{modelValue:a.value.agree,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.agree=s),rules:[s=>!!s||"يجب الموافقة على الشروط"],density:"compact"},{label:r(()=>e[9]||(e[9]=[o("span",{class:"text-body-2"},[V(" أوافق على "),o("a",{href:"#",class:"text-primary"},"الشروط والأحكام")],-1)])),_:1},8,["modelValue","rules"])]),_:1})]),_:1}),l(P,{type:"submit",color:"primary",size:"large",block:"",loading:m.value,class:"mt-4 shadow-sm"},{default:r(()=>e[10]||(e[10]=[V(" إنشاء حساب جديد ")])),_:1},8,["loading"]),e[11]||(e[11]=o("div",{class:"text-center mt-4"},[o("span",{class:"text-grey"},"لديك حساب بالفعل؟"),o("a",{href:"/login",class:"text-primary text-decoration-none ms-1"}," تسجيل الدخول ")],-1))]),_:1},512)])])])]))}},K=S(T,[["__scopeId","data-v-991b3072"]]);export{K as default};
