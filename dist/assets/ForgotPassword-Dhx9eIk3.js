import{a as x,r as t,c as u,b as e,d as o,x as y,w as l,l as w,k,o as i,i as n,u as p,n as d,q as V,s as b}from"./index-98ieInin.js";import{r as h,e as z}from"./validators-CndBNb9f.js";import{_ as B}from"./AppInput-CufQk24k.js";import{_ as v}from"./AppButton-Dj4u5ybH.js";const F={class:"forgot-password-page"},N={class:"forgot-container"},P={class:"forgot-brand"},S={class:"brand-content"},q={class:"forgot-form-wrapper"},I={class:"forgot-form"},R={class:"text-center"},$={href:"/login",class:"text-primary text-decoration-none"},C={key:1,class:"success-message"},E={__name:"ForgotPassword",setup(M){const m=t(null),a=t(!1),c=t(!1),r=t({email:""}),g=async()=>{const{valid:f}=await m.value.validate();if(f){a.value=!0;try{await V.forgotPassword(r.value),c.value=!0,b.success("تم إرسال رابط الاستعادة")}catch{b.error("فشل إرسال الرابط")}finally{a.value=!1}}};return(f,s)=>(i(),u("div",F,[e("div",N,[e("div",P,[e("div",S,[o(n,{icon:"ri-lock-password-line",size:"64",color:"white"}),s[1]||(s[1]=e("h1",{class:"brand-title mt-4"},"استعادة كلمة المرور",-1)),s[2]||(s[2]=e("p",{class:"brand-subtitle"},"سنرسل لك رابط إعادة تعيين كلمة المرور",-1))])]),e("div",q,[e("div",I,[s[8]||(s[8]=e("h2",{class:"text-h4 font-weight-bold mb-2"},"نسيت كلمة المرور؟",-1)),s[9]||(s[9]=e("p",{class:"text-body-1 text-grey mb-6"},"أدخل بريدك الإلكتروني",-1)),c.value?(i(),u("div",C,[o(n,{icon:"ri-checkbox-circle-line",size:"64",color:"success",class:"mb-4"}),s[6]||(s[6]=e("h3",{class:"text-h6 mb-2"},"تم إرسال الرابط!",-1)),s[7]||(s[7]=e("p",{class:"text-body-2 text-grey mb-4"},"تحقق من بريدك الإلكتروني واتبع التعليمات لإعادة تعيين كلمة المرور",-1)),o(v,{color:"primary",variant:"outlined",href:"/login",block:""},{default:l(()=>s[5]||(s[5]=[d(" العودة لتسجيل الدخول ")])),_:1})])):(i(),y(k,{key:0,ref_key:"formRef",ref:m,onSubmit:w(g,["prevent"])},{default:l(()=>[o(B,{modelValue:r.value.email,"onUpdate:modelValue":s[0]||(s[0]=_=>r.value.email=_),label:"البريد الإلكتروني *",type:"email",rules:[p(h),p(z)],"prepend-inner-icon":"ri-mail-line",class:"mb-4"},null,8,["modelValue","rules"]),o(v,{type:"submit",color:"primary",size:"large",block:"",loading:a.value,class:"mb-4"},{default:l(()=>s[3]||(s[3]=[d(" إرسال رابط الاستعادة ")])),_:1},8,["loading"]),e("div",R,[e("a",$,[o(n,{icon:"ri-arrow-right-line",size:"small",class:"me-1"}),s[4]||(s[4]=d(" العودة لتسجيل الدخول "))])])]),_:1},512))])])])]))}},D=x(E,[["__scopeId","data-v-47f28961"]]);export{D as default};
