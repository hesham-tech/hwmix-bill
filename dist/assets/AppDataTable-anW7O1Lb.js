import{u as S}from"./usePermissions-BSwY7w5L.js";import{a as M,z as c,o as n,x as o,w as s,a6 as C,b as d,i as B,E as r,v as f,aq as p,am as A,d as v,aw as T,j as N,u as h,H as b,a9 as z,n as D,aI as U,h as I,aj as j,M as E}from"./index-Flp88uEA.js";const O={class:"d-flex align-center gap-2"},q={class:"d-flex gap-2"},L={class:"d-flex gap-1"},W={class:"text-center py-8"},F={class:"text-h6 text-grey mt-4"},H={class:"text-body-2 text-grey-darken-1"},G={__name:"AppDataTable",props:{headers:{type:Array,required:!0},items:{type:Array,default:()=>[]},totalItems:{type:Number,default:0},loading:{type:Boolean,default:!1},page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},sortBy:{type:Array,default:()=>[]},searchable:{type:Boolean,default:!0},search:{type:String,default:""},title:{type:String,default:""},icon:{type:String,default:""},permissionModule:{type:String,default:""},showActions:{type:Boolean,default:!0},canView:{type:Boolean,default:!0},canEdit:{type:Boolean,default:!0},canDelete:{type:Boolean,default:!0},emptyText:{type:String,default:"لا توجد بيانات"},emptySubtext:{type:String,default:"ابدأ بإضافة عنصر جديد"},hidePagination:{type:Boolean,default:!1},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"الكل"}]}},emits:["update:page","update:itemsPerPage","update:sortBy","update:search","update:options","view","edit","delete"],setup(e,{emit:V}){const{can:y}=S(),m=e,u=V,x=c({get:()=>m.page,set:t=>u("update:page",t)}),P=c({get:()=>m.itemsPerPage,set:t=>u("update:itemsPerPage",t)}),k=c({get:()=>m.sortBy,set:t=>u("update:sortBy",t)}),g=c({get:()=>m.search,set:t=>u("update:search",t)}),w=t=>{u("update:options",t)};return(t,l)=>(n(),o(I,null,{default:s(()=>[e.title?(n(),o(C,{key:0,class:"d-flex align-center justify-space-between"},{default:s(()=>[d("div",O,[e.icon?(n(),o(B,{key:0,icon:e.icon},null,8,["icon"])):r("",!0),d("span",null,f(e.title),1)]),d("div",q,[p(t.$slots,"actions",{},void 0,!0),e.searchable?(n(),o(A,{key:0,modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=a=>g.value=a),density:"compact",placeholder:"بحث...","prepend-inner-icon":"ri-search-line",variant:"outlined","hide-details":"",clearable:"",style:{"max-width":"300px"}},null,8,["modelValue"])):r("",!0)])]),_:3})):r("",!0),v(U,{"items-per-page":P.value,"onUpdate:itemsPerPage":l[1]||(l[1]=a=>P.value=a),page:x.value,"onUpdate:page":l[2]||(l[2]=a=>x.value=a),"sort-by":k.value,"onUpdate:sortBy":l[3]||(l[3]=a=>k.value=a),headers:e.headers,items:e.items,"items-length":e.totalItems,loading:e.loading,search:g.value,class:"elevation-0",density:"comfortable","items-per-page-options":e.itemsPerPageOptions,"no-data-text":e.emptyText,"hide-default-footer":e.hidePagination,"onUpdate:options":w,"onClick:row":l[4]||(l[4]=(a,{item:i})=>t.$emit("click:row",i))},T({loading:s(()=>[v(z,{type:"table-row@5"})]),"no-data":s(()=>[d("div",W,[v(B,{size:"64",color:"grey-lighten-1"},{default:s(()=>l[5]||(l[5]=[D(" ri-inbox-line ")])),_:1}),d("p",F,f(e.emptyText),1),d("p",H,f(e.emptySubtext),1),p(t.$slots,"empty-action",{},void 0,!0)])]),_:2},[N(t.$slots,(a,i)=>({name:i,fn:s($=>[i.startsWith("item.")||i.startsWith("header.")||["no-data","loading","body","footer","top","bottom"].includes(i)?p(t.$slots,i,j(E({key:0},$||{})),void 0,!0):r("",!0)])})),e.showActions?{name:"item.actions",fn:s(({item:a})=>[d("div",L,[e.canView&&(!e.permissionModule||h(y)(`${e.permissionModule}.view_all`,{resource:a}))?(n(),o(b,{key:0,icon:"ri-eye-line",size:"small",variant:"text",color:"info",onClick:i=>t.$emit("view",a)},null,8,["onClick"])):r("",!0),e.canEdit&&(!e.permissionModule||h(y)(`${e.permissionModule}.update_all`,{resource:a}))?(n(),o(b,{key:1,icon:"ri-edit-line",size:"small",variant:"text",color:"primary",onClick:i=>t.$emit("edit",a)},null,8,["onClick"])):r("",!0),e.canDelete&&(!e.permissionModule||h(y)(`${e.permissionModule}.delete_all`,{resource:a}))?(n(),o(b,{key:2,icon:"ri-delete-bin-line",size:"small",variant:"text",color:"error",onClick:i=>t.$emit("delete",a)},null,8,["onClick"])):r("",!0),p(t.$slots,"extra-actions",{item:a},void 0,!0)])]),key:"0"}:void 0]),1032,["items-per-page","page","sort-by","headers","items","items-length","loading","search","items-per-page-options","no-data-text","hide-default-footer"])]),_:3}))}},Q=M(G,[["__scopeId","data-v-2f665120"]]);export{Q as A};
